{"openapi":"3.0.0","info":{"title":"Znki API","description":"znki apis","version":"0.1","contact":{"name":"ZcharyMa","url":"https://www.github.com/zchary-ma","email":"zcharyma@gmail.com"}},"tags":[],"servers":[],"components":{"securitySchemes":{"Authorization":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"BaseTagDto":{"type":"object","properties":{"name":{"type":"string","description":"tag name"},"pid":{"type":"number","description":"tag parent id"}},"required":["name","pid"]},"CreateTagDto":{"type":"object","properties":{"cardId":{"type":"number","description":"tag parent id"},"tag":{"description":"tag info","allOf":[{"$ref":"#/components/schemas/BaseTagDto"}]}},"required":["cardId","tag"]},"UpdateCardDto":{"type":"object","properties":{"id":{"type":"number","description":"card id"},"templateId":{"type":"number","description":"card template id"},"title":{"type":"string","description":"question of this card"}},"required":["id"]},"CardWhereDto":{"type":"object","properties":{"deckId":{"type":"number"},"templateId":{"type":"number"},"title":{"type":"string"},"status":{"type":"string","enum":["NEW","LEARNING","ARCHIVED"]}},"required":["deckId"]},"CardListDto":{"type":"object","properties":{"take":{"type":"number"},"skip":{"type":"number"},"where":{"$ref":"#/components/schemas/CardWhereDto"}},"required":["take","skip"]},"CreateNoteDto":{"type":"object","properties":{"templateId":{"type":"number","description":"template id"},"content":{"type":"string","description":"note content"},"type":{"type":"string","enum":["TEXT","IMAGE"],"description":"note type"}},"required":["content","type"]},"CreateCardDto":{"type":"object","properties":{"deckId":{"type":"number","description":"deck id"},"templateId":{"type":"number","description":"card template id"},"title":{"type":"string","description":"question of this card"},"notes":{"description":"note list","type":"array","items":{"$ref":"#/components/schemas/CreateNoteDto"}}},"required":["deckId","title","notes"]},"ReviewCardDto":{"type":"object","properties":{"cardId":{"type":"number","description":"card id"},"status":{"type":"string","enum":["UNKNOWN","GOOD","CLEAR"],"description":"review status"}},"required":["cardId","status"]},"CommonIdSetDto":{"type":"object","properties":{"ids":{"type":"array","items":{"type":"number"}}},"required":["ids"]},"DeckConfDto":{"type":"object","properties":{}},"CreateDeckDto":{"type":"object","properties":{"name":{"type":"string","description":"deck name"},"description":{"type":"string","description":"deck description"},"conf":{"$ref":"#/components/schemas/DeckConfDto"},"isPublic":{"type":"boolean","description":"is it shared to public"}},"required":["name"]},"UpdateUserDto":{"type":"object","properties":{"uid":{"type":"string"},"username":{"type":"string"},"avatar":{"type":"string"}},"required":["uid"]},"LoginDto":{"type":"object","properties":{"pwd":{"type":"string","description":"password"},"email":{"type":"string","description":"email"}},"required":["pwd","email"]},"RegisterUserDto":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"pwd":{"type":"string"}},"required":["username","email","pwd"]}}},"paths":{"/api/tag":{"get":{"operationId":"TagController_getTags","parameters":[],"responses":{"200":{"description":""}},"tags":["Tag"]},"post":{"operationId":"TagController_addTag","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTagDto"}}}},"responses":{"201":{"description":""}},"tags":["Tag"]},"delete":{"operationId":"TagController_removeTags","parameters":[],"responses":{"200":{"description":""}},"tags":["Tag"]}},"/api/card":{"put":{"operationId":"CardController_updateCard","summary":"to update card info","description":"version 0.1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCardDto"}}}},"responses":{"200":{"description":""}},"tags":["Card"]},"post":{"operationId":"CardController_getCards","summary":"get all cards","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CardListDto"}}}},"responses":{"201":{"description":""}},"tags":["Card"]},"delete":{"operationId":"CardController_deleteCards","summary":"delete cards","description":"version 0.1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CommonIdSetDto"}}}},"responses":{"200":{"description":""}},"tags":["Card"]}},"/api/card/{card_id}":{"get":{"operationId":"CardController_getCardDetailById","summary":"get card info by card id","description":"version 0.1","parameters":[{"name":"card_id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Card"]}},"/api/card/add":{"post":{"operationId":"CardController_addCard","summary":"to add card","description":"version 0.1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCardDto"}}}},"responses":{"201":{"description":""}},"tags":["Card"]}},"/api/card/review":{"post":{"operationId":"CardController_reviewCard","summary":"to review card","description":"version 0.1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewCardDto"}}}},"responses":{"201":{"description":""}},"tags":["Card"]}},"/api/deck":{"post":{"operationId":"DeckController_addDeck","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateDeckDto"}}}},"responses":{"201":{"description":""}},"tags":["Deck"]},"get":{"operationId":"DeckController_getDecks","parameters":[{"name":"take","required":true,"in":"query","schema":{"type":"number"}},{"name":"skip","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["Deck"]}},"/api/note":{"post":{"operationId":"NoteController_addNote","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateNoteDto"}}}},"responses":{"201":{"description":""}},"tags":["Note"]}},"/api/user":{"put":{"operationId":"UserController_updateUser","summary":"update user info","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":""}},"tags":["User"]}},"/api/token":{"get":{"operationId":"AuthController_verifyToken","parameters":[],"responses":{"200":{"description":""}},"tags":["Auth"]}},"/api/login":{"post":{"operationId":"AuthController_login","summary":"","description":"user login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDto"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/register":{"post":{"operationId":"AuthController_register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserDto"}}}},"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/logout":{"post":{"operationId":"AuthController_logout","summary":"","description":"user logout","parameters":[],"responses":{"201":{"description":""}},"tags":["Auth"]}},"/api/common/upload":{"post":{"operationId":"CommonController_upload","summary":"upload file | returning obs url","description":"file upload. Max size is 100MB.","parameters":[{"name":"action","required":true,"in":"query","schema":{"enum":["USER_CONTENT","FORMATTED_CARD","TEMP"],"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":""}},"tags":["common"]}}}}